<div class="container">

  <h2 class="mt-3">Liste des suggestions</h2>

  <div class="mb-3">
    <input
      class="form-control"
      type="text"
      placeholder="Rechercher par titre ou cat√©gorie..."
      [(ngModel)]="searchText">
  </div>

  <div *ngFor="let s of filteredSuggestions" class="card mb-3">
    <div class="card-body">

      <h5 class="card-title">{{ s.title }}</h5>
      <p class="card-text">{{ s.description }}</p>

      <p class="mb-2">
        <strong>Cat√©gorie:</strong> {{ s.category }} <br>
        <strong>Date:</strong> {{ s.date | date:'longDate' }} <br>
        <strong>Statut:</strong> {{ s.status }} <br>
        <strong>Likes:</strong> {{ s.nbLikes }}
      </p>

      <div class="d-flex gap-2">
        <button
          class="btn btn-primary"
          *ngIf="!isRefused(s)"
          (click)="like(s)">
          üëç Like
        </button>

        <button
          class="btn btn-warning"
          *ngIf="!isRefused(s)"
          (click)="addToFavorites(s)">
          ‚≠ê Ajouter aux favoris
        </button>

        <button class="btn btn-outline-secondary"
                [disabled]="isRefused(s)">
          Action (d√©sactiv√©e si refus√©e)
        </button>
      </div>

    </div>
  </div>

  <hr class="my-4">

  <h4>Favoris ({{ favorites.length }})</h4>

  <div *ngIf="favorites.length === 0" class="alert alert-info">
    Aucune suggestion ajout√©e aux favoris.
  </div>

  <ul *ngIf="favorites.length > 0" class="list-group">
    <li *ngFor="let f of favorites" class="list-group-item d-flex justify-content-between align-items-center">
      <span>{{ f.title }} <small class="text-muted">({{ f.category }})</small></span>
      <button class="btn btn-sm btn-danger" (click)="removeFavorite(f)">Retirer</button>
    </li>
  </ul>

</div>
